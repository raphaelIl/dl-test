{% extends "base.html" %}

{% block title %}{{ _('동영상 다운로더') }}{% endblock %}

{% block extra_css %}
<meta name="google-adsense-account" content="ca-pub-7433898198535486">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<link rel="stylesheet" href="{{ url_for('static', filename='css/index_styles.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="language-dropzone">
        <div class="lang-btn" id="languageToggle">
            <i class="fas fa-globe"></i>
            {{ languages[current_lang] }}
            <i class="fas fa-caret-down" style="margin-left: 5px;"></i>
        </div>
        <div class="language-drawer" id="languageDrawer">
            <div class="language-options" id="languageOptions">
                {% for code, name in languages.items() %}
                <a href="/{{ code }}/"
                   class="language-option {% if current_lang == code %}active{% endif %}"
                   data-lang-code="{{ code }}">
                    <span class="language-flag">{{ code }}</span>
                    {{ name }}
                </a>
                {% endfor %}
            </div>
        </div>
    </div>

    <div class="logo">
        <i class="fas fa-video"></i>
    </div>

    <h1>{{ _('최고 화질의 SNS 동영상 다운로더') }}</h1>
    <p class="description">
        {{ _('GrabVideo를 사용하여 YouTube, TikTok, Instagram, Twitter(X), Facebook(Meta) 등<br> 각종 SNS에서 최고 화질의 동영상을 빠르고 쉽게 다운로드하세요.<br>완전 무료이며, 회원가입이나 워터마크 없이 이용할 수 있습니다.<br>PC뿐만 아니라 모바일에서도 완벽하게 작동합니다.') | safe }}
    </p>

    {% if error %}
    <div class="error">
        <i class="fas fa-exclamation-circle"></i> {{ error }}
    </div>
    {% endif %}

    <form method="post">
        <div class="form-group">
            <label for="video_url">{{ _('동영상 URL') }}</label>
            <input type="text" id="video_url" name="video_url"
                   placeholder="{{ _('원하는 동영상 공유 Link를 붙여넣으세요.') }}"
                   required
                   oninvalid="this.setCustomValidity('Please fill out this field')"
                   oninput="this.setCustomValidity('')">
        </div>
        <button type="submit">
            <i class="fas fa-download"></i> {{ _('다운로드 시작') }}
        </button>
    </form>

    <div class="how-to-section">
        <h3>{{ _('사용 방법') }}</h3>
        <div class="step-cards">
            <div class="step-card">
                <div class="step-number">1</div>
                <div class="step-icon">
                    <i class="fas fa-copy"></i>
                </div>
                <h4>{{ _('공유 Link 복사') }}</h4>
                <p>{{ _('각 플랫폼의 동영상 아래 또는 메뉴에 있는 \'공유\' 버튼을 클릭하여 생성된 URL을 복사하세요.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-number">2</div>
                <div class="step-icon">
                    <i class="fas fa-paste"></i>
                </div>
                <h4>{{ _('공유 Link 붙여넣기') }}</h4>
                <p>{{ _('복사한 공유 Link을 위 입력란에 붙여넣으세요.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-number">3</div>
                <div class="step-icon">
                    <i class="fas fa-download"></i>
                </div>
                <h4>{{ _('다운로드') }}</h4>
                <p>{{ _('다운로드 버튼을 클릭하고 잠시 기다리면 동영상을 저장할 수 있습니다.') }}</p>
            </div>
            <div class="share-guide-images">
                <div class="share-step">
                    <img src="{{ url_for('static', filename='img/sharelink-1.png') }}" alt="{{ _('공유 버튼') }}" class="share-image">
                    <p>{{ _('1. 동영상 아래 \'공유\' 버튼 클릭') }}</p>
                </div>
                <div class="share-arrow"><i class="fas fa-arrow-right"></i></div>
                <div class="share-step">
                    <img src="{{ url_for('static', filename='img/sharelink-2.png') }}" alt="{{ _('링크 복사') }}" class="share-image">
                    <p>{{ _('2. \'복사\' 버튼으로 링크 복사') }}</p>
                </div>
            </div>
        </div>
    </div>

    <div class="how-to-section">
        <h3>{{ _('GrabVideo의 특별한 기능') }}</h3>
        <div class="step-cards">
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h4>{{ _('모바일 완벽 호환') }}</h4>
                <p>{{ _('스마트폰이나 태블릿에서도 PC와 동일하게 작동합니다. 언제 어디서나 동영상을 다운로드하세요.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <h4>{{ _('완전 무료') }}</h4>
                <p>{{ _('모든 기능을 무료로 제공합니다. 숨겨진 비용이나 프리미엄 요금제가 없습니다.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-desktop"></i>
                </div>
                <h4>{{ _('브라우저 기반') }}</h4>
                <p>{{ _('전용 프로그램 설치가 필요없습니다. 브라우저를 통해 편하게 다운로드 받으세요.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-ban"></i>
                </div>
                <h4>{{ _('워터마크 없음') }}</h4>
                <p>{{ _('다운로드한 동영상에 로고나 워터마크를 추가하지 않습니다. 원본 품질 그대로 제공합니다.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h4>{{ _('최고 화질, 음질') }}</h4>
                <p>{{ _('4K, HD 등 가능한 최고 화질과 음질로 MP4 동영상을 다운로드합니다. 품질 저하 없이 원본 그대로 제공합니다.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <h4>{{ _('안전한 다운로드') }}</h4>
                <p>{{ _('악성 소프트웨어 없이 안전하게 사용할 수 있습니다. 개인정보 보호를 최우선으로 합니다.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-user-plus"></i>
                </div>
                <h4>{{ _('회원가입 불필요') }}</h4>
                <p>{{ _('계정 생성이나 개인정보 입력 없이 즉시 사용할 수 있습니다. 번거로운 절차가 없습니다.') }}</p>
            </div>
            <div class="step-card">
                <div class="step-icon">
                    <i class="fas fa-tachometer-alt"></i>
                </div>
                <h4>{{ _('빠른 다운로드') }}</h4>
                <p>{{ _('최적화된 알고리즘으로 빠른 속도로 동영상을 가져옵니다. 불필요한 대기 시간이 없습니다.') }}</p>
            </div>
        </div>
    </div>
    <div class="site-title">{{ _('지원하는 플랫폼') }}</div>
    <div class="supported-sites">
        <a href="https://www.youtube.com" title="YouTube" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-youtube site-icon"></i>
        </a>
        <a href="https://www.instagram.com" title="Instagram" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-instagram site-icon"></i>
        </a>
        <a href="https://www.tiktok.com" title="TikTok" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-tiktok site-icon"></i>
        </a>
        <a href="https://www.facebook.com" title="Facebook(Meta)" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-facebook site-icon"></i>
        </a>
        <a href="https://twitter.com" title="Twitter" target="_blank" rel="noopener noreferrer">
            <i class="fab fa-twitter site-icon"></i>
        </a>
    </div>

    <div class="how-to-section">
        <h3>{{ _('자주 묻는 질문') }}</h3>
        <div class="faq-section">
            <div class="faq-item">
                <div class="faq-question">
                    {{ _('다운로드한 동영상에 워터마크가 있나요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('아니요, GrabVideo는 다운로드한 동영상에 어떠한 워터마크나 로고도 추가하지 않습니다. 원본 그대로의 품질로 제공됩니다.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('공유 Link란 무엇인가요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('브라우저 주소창의 일반 URL은 플랫폼마다 구조가 달라 다운로드가 어려울 수 있습니다. 반면 \'공유하기\' 기능으로 생성된 URL은 동영상 정보를 정확하게 포함하고 있어 성공적인 다운로드가 가능합니다. 항상 각 플랫폼의 공유하기 기능을 통해 URL을 복사해주세요.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('모바일에서도 사용할 수 있나요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('네, GrabVideo는 모바일 환경에 완벽하게 최적화되어 있습니다. 스마트폰이나 태블릿에서도 PC와 동일하게 사용할 수 있습니다.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('다운로드 링크가 접속이 안돼요.') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('리소스 관리를 위해 다운로드 링크는 영구적이지 않습니다. 이 경우 메인 페이지로 돌아가 URL을 다시 입력하여 새로운 다운로드 링크를 받으세요.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('다운 가능한 파일 사이즈는 어떻게 되나요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('보통 30분 이내 길이의 동영상을 안정적으로 다운로드 할 수 있습니다. 파일 크기는 화질에 따라 다르지만 더 큰 용량이나 긴 파일 지원은 추후 지원할 예정입니다.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('어떤 품질로 동영상을 다운로드할 수 있나요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('GrabVideo는 가능한 고화질로 동영상을 다운로드합니다. 원본 동영상이 HD 품질이라면 동일한 품질로 다운로드할 수 있습니다.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('다운로드 속도는 어떤가요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('GrabVideo는 최적화된 알고리즘을 사용하여 빠른 다운로드 속도를 제공합니다. 다운로드 속도는 인터넷 연결 상태와 서버 상황에 따라 달라질 수 있습니다.') }}
                </div>
            </div>

            <div class="faq-item">
                <div class="faq-question">
                    {{ _('다운로드한 콘텐츠는 어떻게 사용하면 좋을까요?') }}
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer" style="display: none;">
                    {{ _('GrabVideo는 여러분의 편의를 위한 기술적 도구입니다. 다운로드한 콘텐츠는 개인적인 감상 용도로 사용하시는 것을 추천해 드립니다. 콘텐츠 원작자의 창작물을 존중하는 문화가 더 많은 좋은 콘텐츠 제작으로 이어진다는 점을 기억해 주세요.') }}
                </div>
            </div>
        </div>
    </div>
</div>

<div class="legal-notice">
    <h4>{{ _('이용 안내') }}</h4>
    <p>
        {{ _('GrabVideo는 편리한 동영상 다운로드 서비스를 제공합니다. 저희는 모든 콘텐츠 창작자의 노력을 존중하며, 다운로드한 콘텐츠는 개인적 감상 용도로 즐겨주시기 바랍니다. 각 플랫폼의 이용약관을 참고하시고, 콘텐츠 제작자의 창작 의도에 맞게 활용해주세요. GrabVideo를 통해 더 편리하고 즐거운 디지털 콘텐츠 경험을 만들어가세요.') }}
    </p>
</div>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const languageToggle = document.getElementById('languageToggle');
        const languageDrawer = document.getElementById('languageDrawer');

        if (languageToggle && languageDrawer) {
            languageToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                languageDrawer.classList.toggle('open');
            });

            document.addEventListener('click', function(e) {
                if (languageDrawer.classList.contains('open') &&
                    !languageDrawer.contains(e.target) &&
                    e.target !== languageToggle) {
                    languageDrawer.classList.remove('open');
                }
            });
        }

        const faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                const answer = question.nextElementSibling;
                const isOpen = answer.style.display === 'block';

                document.querySelectorAll('.faq-answer').forEach(item => {
                    item.style.display = 'none';
                });
                document.querySelectorAll('.faq-question i').forEach(icon => {
                    icon.className = 'fas fa-chevron-down';
                });

                if (!isOpen) {
                    answer.style.display = 'block';
                    question.querySelector('i').className = 'fas fa-chevron-up';
                }
            });
        });
    });
</script>
{% endblock %}
